// Generated by CoffeeScript 1.7.1
(function() {
  var app;

  app = angular.module('app', ['ngRoute']);

  app.config(function($routeProvider, $locationProvider, $sceDelegateProvider) {
    $routeProvider.when('/radio', {
      templateUrl: 'partials/radio.html',
      controller: 'RadioCtrl'
    });
    $locationProvider.html5Mode(false);
    return $sceDelegateProvider.resourceUrlWhitelist(['self', 'http://*.youtube.com/**']);
  });

  app.controller('RadioCtrl', function($scope, $http) {
    return $http.get('http://localhost:8000').then(function(result) {
      $scope.messages = result.data.data;
      $scope.next = result.data.paging.next;
      return $scope.prev = result.data.paging.previous;
    }, function(error) {
      return $scope.error = error;
    });
  });

  angular.module('app').directive('youtubeembed', function() {
    return {
      restrict: 'E',
      replace: true,
      templateUrl: "directive/youtubeembed.html",
      scope: {
        source: '@'
      },
      link: function(scope) {
        return scope.sourcenotautoplay = scope.source.replace('autoplay=1', 'autoplay=0');
      }
    };
  });

}).call(this);
